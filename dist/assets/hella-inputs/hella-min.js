const URL_UTIL=window.location,options={BASE_URL:`${URL_UTIL.protocol}//${URL_UTIL.host}/${URL_UTIL.pathname.split("/")[1]}`,PLUGIN_PATH:"assets/libs/hella-inputs/",globalInputClass:"hella-input",globalInputContainerClass:"hella-container",globalInputFluidClass:"hella-fluid",hellaPrefixDataName:"hella-prefix",hellaPrefixClass:"hella-prefix",hellaPlaceholderDataName:"hella-placeholder",hellaPlaceholderClass:"hella-placeholder",hellaPasswordToggleDataName:"hella-password-toggle",hellaPasswordToggleClass:"hella-password-toggle",hellaFileSelectorContainerClass:"hella-file-selector-container",hellaFileSelectorClass:"hella-file-selector",hellaFileNameClass:"hella-file-name",hellaFileIconClass:"file-selector-icon",hellaRadioContainerClass:"hella-radio-container",hellaRadioSelectorClass:"hella-radio-selector",hellaRadioLabelClass:"hella-radio-label",hellaCheckboxContainerClass:"hella-checkbox-container",hellaCheckboxSelectorClass:"hella-checkbox-selector",hellaCheckboxLabelClass:"hella-checkbox-label",hellaProgressiveDataName:"hella-progressive",hellaProgressiveContainerClass:"hella-progressive-container",hellaProgressiveClass:"hella-progressive",hellaProgressiveDeactiveClass:"hella-deactivated"},hellaInputs=$("."+options.globalInputClass);function init(){options.BASE_URL,options.PLUGIN_PATH;$(hellaInputs).each(function(l,e){const s=$(e).attr("type"),a=$(e).data(options.hellaPrefixDataName),o=$(e).data(options.hellaPlaceholderDataName),t=$(e).data(options.hellaPasswordToggleDataName),i=$(e).hasClass(options.globalInputFluidClass),n="file"==s,r="radio"==s,c="checkbox"==s,h=$(e).data(options.hellaProgressiveDataName);$(e).wrap(function(){return"<div class='"+options.globalInputContainerClass+"'></div>"});const p=$(e).closest("."+options.globalInputContainerClass);if(a&&$(p).prepend("<span class='"+options.hellaPrefixClass+" "+a+"'></span>"),o&&$(p).append("<span class='"+options.hellaPlaceholderClass+"'>"+o+"</span>"),t&&("password"==s?$(p).prepend("<span class='"+options.hellaPasswordToggleClass+" fas fa-eye'></span>"):$(p).prepend("<span class='"+options.hellaPasswordToggleClass+" fas fa-eye-slash'></span>")),n){const l=i?options.globalInputFluidClass:"";$(e).wrap(function(){return"<div class='"+l+" "+options.hellaFileSelectorContainerClass+"'><label class='"+options.hellaFileSelectorClass+"'><span class='file-selector-icon fas fa-plus'></span></label></div>"})}if(r){const l=$(e).closest("."+options.globalInputContainerClass),s=$(l).children("input[type=radio].hella-input");$(s).wrap('<label class="'+options.hellaRadioLabelClass+'"></label>').after('<div class="'+options.hellaRadioSelectorClass+'"></div>'),$(l).addClass(options.hellaRadioContainerClass)}if(c){const l=$(e).closest("."+options.globalInputContainerClass),s=$(l).children("input[type=checkbox].hella-input");$(s).wrap('<label class="'+options.hellaCheckboxLabelClass+'"></label>').after('<div class="'+options.hellaCheckboxSelectorClass+'"></div>'),$(l).addClass(options.hellaCheckboxContainerClass)}if("text"==s||"password"==s||"email"==s){const l=$(e).hasClass("half-progressive");h&&$(e).before(`<div class="${h} ${l?"half-progressive":""} ${options.hellaProgressiveContainerClass}"><div class="${options.hellaProgressiveClass}"></div></div>`)}})}init();const hellaPlaceholders=$("."+options.hellaPlaceholderClass),hellaPasswordTogglers=$("."+options.hellaPasswordToggleClass),hellaFileSelectors=$("."+options.hellaFileSelectorClass).find("input[type=file].hella-input");function activatePlaceholder(l){$(l).removeClass("deactive").addClass("active")}function deactivatePlaceholder(l){$(l).removeClass("active").addClass("deactive")}function passwordToggle(l){const e=$(l).children("."+options.globalInputClass),s=$(l).children("."+options.hellaPasswordToggleClass);"password"==$(e).attr("type")?($(e).attr("type","text"),$(s).removeClass().addClass(options.hellaPasswordToggleClass+" fas fa-eye-slash")):($(e).attr("type","password"),$(s).removeClass().addClass(options.hellaPasswordToggleClass+" fas fa-eye"))}function hellaInputChange(l){const e=l.files;if(e.length>0){const s=$(l).closest("."+options.hellaFileSelectorClass).children("."+options.hellaFileIconClass);return $(s).addClass("active"),e}return null}function showFileName(l,e){let s="";$(l).each(function(e,a){l.length==e+1?s+=a.name:s+=a.name+", "});const a=$(e).closest("."+options.hellaFileSelectorClass),o=$(a).children("."+options.hellaFileNameClass),t=$(a).children(".hella-file-counter");o.length>0?($(o).text(s),$(t).text(l.length)):$(a).append('<span class="hella-file-name">'+s+"</span>").append('<span class="hella-file-counter">'+l.length+"</span>")}function resetHellaFile(l){const e=$(l).closest("."+options.hellaFileSelectorClass),s=$(e).children("."+options.hellaFileNameClass),a=$(e).children(".hella-file-counter"),o=$(l).closest("."+options.hellaFileSelectorClass).children("."+options.hellaFileIconClass);return $(l).val(void 0),$(s).remove(),$(a).remove(),$(o).removeClass("active"),!1}function appendProcessCircle(l,e,s=!1){if(!$(l).hasClass(options.globalInputClass))throw Error("Error: Given input is not a hella input!");0==$(l).parent().find(`.${options.hellaProgressiveContainerClass}`).length&&$(l).before(`<div class="${e} ${s?"half-progressive":""} ${options.hellaProgressiveContainerClass}"><div class="${options.hellaProgressiveClass}"></div></div>`)}function getChildrenProcessCircle(l){const e=$(l).parent().find(`.${options.hellaProgressiveContainerClass}`);return e.length>0?e:null}function deactivateProcessCircle(l){getChildrenProcessCircle(l)&&$(getChildrenProcessCircle(l)).addClass(options.hellaProgressiveDeactiveClass)}function activateProcessCircle(l){const e=getChildrenProcessCircle(l);$(e).removeClass(options.hellaProgressiveDeactiveClass)}$(hellaPlaceholders).on("click",function(){const l=$(this).closest("."+options.globalInputContainerClass),e=$(l).children("."+options.globalInputClass);$(e).focus()}),$(hellaInputs).on("click blur focus",function(l){const e=$(this).closest("."+options.globalInputContainerClass),s=$(e).children("."+options.globalInputClass),a=$(e).children("."+options.hellaPlaceholderClass);"click"==l.type||"focus"==l.type?a&&activatePlaceholder(a):"blur"==l.type&&0==$(s).val().length&&deactivatePlaceholder(a)}),$(hellaPasswordTogglers).on("click",function(){passwordToggle($(this).closest("."+options.globalInputContainerClass))}),$(hellaFileSelectors).on("click change",function(l){if("change"==l.type){const l=hellaInputChange(this);l&&showFileName(l,this)}if("click"==l.type){const l=$(this).closest("."+options.hellaFileSelectorClass).children("."+options.hellaFileIconClass);if($(l).hasClass("active"))return resetHellaFile(this),!1}});export{appendProcessCircle,deactivateProcessCircle,activateProcessCircle};